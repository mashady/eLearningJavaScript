<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../styles/courses.css">
    <title>Document</title>
</head>

<body class=".poppins-thin">
    <div class="title">
        <h1>Courses</h1>
    </div>
    <div class="container">
        <!-- Search Section -->
        <div class="search-section">
            <h2>Search Courses</h2>
            <div class="search-controls">
                <select id="search-by">
                    <option value="Title">Search by Course Name</option>
                    <option value="Category">Search by Category</option>
                </select>
                <input type="text" id="search-input" placeholder="Enter search term">
                <button type="button" id="search-btn">Search</button>
            </div>
        </div>
        
        <form id="course-form">
            <div id="info-div">
                <label for="course-id" style="display: none;">Course ID:</label>
                <input type="text" id="course-id" style="display: none;">

                <label for="course-title">Title:</label>
                <input type="text" id="course-title">
                <span id="title-error" class="error-message"></span> <!-- Span لرسالة الخطأ -->

                <label for="course-category">Category:</label>
                <select id="course-category">
                    <option value="">Select a category</option>
                    <!-- <option value="Programming">Programming</option>
                    <option value="Design">Design</option>
                    <option value="Marketing">Marketing</option> -->
                </select>
                <span id="category-error" class="error-message"></span>

                <label for="course-instructor">Instructor:</label>
                <input type="text" id="course-instructor">
                <span id="instructor-error" class="error-message"></span>

                <label for="course-image">Image URL:</label>
                <input type="url" id="course-image" name="image" required />
                <span id="image-error" class="error-message"></span>

                <label for="course-description">Description:</label>
                <textarea id="course-description"></textarea>
                <span id="description-error" class="error-message"></span>

                <label for="course-price">Price:</label>
                <input type="number" id="course-price" name="price"  required />
                <span id="price-error" class="error-message"></span>

                <label for="course-duration">Duration:</label>
                <input type="number" id="course-duration" required />
                <span id="duration-error" class="error-message"></span>

                <label for="course-lessons">Number of Lessons:</label>
                <input type="number" id="course-lessons" required>
                <span id="lesson-num-error" class="error-message"></span>

                <button type="button" id="next-step" class="info-buttons">Next Step</button>
            </div>

            <div id="lesson-div" style=" background-color:var(--darkblue); border-radius: 8px; height: 700px; width: 1050px; padding: 10px; margin-top: 10px;">
                <h2 id="lesson" style="color: azure;">Lesson 1</h2>
                <label for="lesson-title" class="lable" style="color: azure;">Lesson Title:</label>
                <input type="text" id="lesson-title" required>
                <span id="lesson-title-error" class="error-message"></span>

                <label for="lesson-duration" class="lable" style="color: azure;">Duration:</label>
                <input type="number" id="lesson-duration" step="0.5" required>
                <span id="lesson-duration-error" class="error-message"></span>

                <label for="lesson-video" class="lable" style="color: azure;">Video:</label>
                <input type="text" id="lesson-video" >

                <label for="lesson-pdf" class="lable" style="color: azure;">PDF:</label>
                <input type="text" id="lesson-pdf" >

                <label for="lesson-quiz" class="lable" style="color: azure;">Quiz:</label>
                <input type="text" id="lesson-quiz" >


                <button type="button" id="prev-step" class="lesson-buttons">Prev Step</button>
                <button type="button" id="prev-lesson" class="lesson-buttons">Prev Lesson</button>

                <!-- display: none; 2-->
                <button type="button" id="add-lesson" class="lesson-buttons">Add Lesson</button>
                <!-- display: none; 2 -->
                <button type="submit" id="add-course" class="lesson-buttons">Add Course</button>
                <button type="button" id="update-course" class="lesson-buttons" >Update Course</button>
            </div>

            <!-- <button type="button" id="delete-course" class="info-buttons" >Delete Course</button> -->
            <button type="button" id="view-course" class="info-buttons" >View Course</button>
            <button type="button" id="view-courses" class="info-buttons">View Courses</button>

            <!-- <fieldset>
        <legend>Course Content</legend>
        <div id="contentContainer">
          <div class="contentEntry">
            <label for="lessonTitle1">Lesson Title:</label>
            <input type="text" id="lessonTitle1" name="lessonTitle1" required />

            <label for="lessonDuration1">Lesson Duration:</label>
            <input
              type="text"
              id="lessonDuration1"
              name="lessonDuration1"
              required
            />

            <label for="lessonVideo1">Lesson Video URL:</label>
            <input type="url" id="lessonVideo1" name="lessonVideo1" required />

            <label for="lessonPdf1">Lesson PDF URL:</label>
            <input type="url" id="lessonPdf1" name="lessonPdf1" required />
          </div>
        </div>
        <button type="button" id="addLesson">Add Another Lesson</button>
      </fieldset> -->
        </form>

        <div class="courses-list">
            <div class="title">
                <h2>Available Courses</h2>
            </div>
            <div id="courses-list"></div>
        </div>
    </div>
    <script type="module" src="../script/fetch-courses.js"></script>
    <script>
        // Load categories from Local Storage
        document.addEventListener("DOMContentLoaded", function () {
            const categories = JSON.parse(localStorage.getItem("categories")) || [];
            const categorySelect = document.getElementById("course-category");
            categorySelect.innerHTML = '<option value="">Select Category</option>';
            categories.forEach(cat => {
                const option = document.createElement("option");
                option.value = cat.name;
                option.textContent = cat.name;
                categorySelect.appendChild(option);
            });
        });
    </script>
</body>

</html>